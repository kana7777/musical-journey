import{o as n,a as c,b as e,t as o,F as d,f as u,k as v,r as p,c as D,n as T,e as f,d as h,v as N,w,l as O,m as b}from"./index-D07pJC9O.js";const M=e("hr",null,null,-1),B={class:"container"},F={class:"row d-flex justify-content-center"},S={class:"col-md-6"},j={key:0,class:"alert alert-secondary text-center",role:"alert"},Q={key:1,class:"card shadow-sm"},z={class:"card-body"},E={class:"text"},A={class:"table"},G=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"甜度"),e("th",{scope:"col"},"冰塊"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1),H={class:"text-end"},J={__name:"OrderList",props:["order-list"],setup(V){const m=r=>r.quantity*r.price;return(r,$)=>(n(),c(d,null,[M,e("div",B,[e("div",F,[e("div",S,[r.orderList.id?(n(),c("div",Q,[e("div",z,[e("div",E," 訂單編號 "+o(r.orderList.id),1),e("table",A,[G,e("tbody",null,[(n(!0),c(d,null,u(r.orderList.cart,l=>(n(),c("tr",{key:l.id},[e("td",null,o(l.name),1),e("td",null,o(l.ice),1),e("td",null,o(l.sugar),1),e("td",null,o(l.quantity),1),e("td",null,o(m(l)),1)]))),128))])]),e("div",null,[v(" 備註: "),e("span",null,o(r.orderList.description),1)]),e("div",H,[e("h5",null,[v("總計: "),e("span",null,o(r.orderList.sum),1)])])])])):(n(),c("div",j," 尚未建立訂單 "))])])])],64))}},K={class:"container mb-5"},P={class:"row"},R={class:"col-md-4"},W={class:"list-group"},X=["onClick"],Y={class:"d-flex justify-content-between w-100"},Z={class:"col-md-8"},I={class:"cart-container"},k={class:"table table-hover align-middle"},ee=e("thead",null,[e("tr",null,[e("th",{scope:"col",align:"center"},"品項"),e("th",{scope:"col"},"甜度"),e("th",{scope:"col"},"冰塊"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"小計"),e("th",{scope:"col",width:"50"},"刪除")])],-1),te={class:"table-group-divider"},se={class:"text"},oe=["onUpdate:modelValue","onChange"],le=["value"],ae=["onUpdate:modelValue","onChange"],ne=["value"],ce=["onUpdate:modelValue","onChange"],ie=["value"],re=["onClick"],de={key:0,class:"alert alert-danger",role:"alert"},ue={key:1,class:"cart-info"},_e={class:"sum text-end mb-3"},pe={class:"text-primary fs-5"},he={class:"text-end"},ve={class:"form-floating"},me=e("label",{for:"floatingTextarea2"},"備註",-1),ge={class:"text-center m-3"},ye={key:2,class:"text-center"},fe=e("p",null,"No items in the cart",-1),be=[fe],Ce={__name:"OrderDrink",setup(V){const m=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50,ice:"",sugar:""},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45,ice:"",sugar:""},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55,ice:"",sugar:""},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45,ice:"",sugar:""},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50,ice:"",sugar:""},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45,ice:"",sugar:""},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55,ice:"",sugar:""},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60,ice:"",sugar:""}],r=["正常","少冰","去冰"],$=["正常","少糖","半糖","微糖","微微糖","無糖"],l=p([]),g=p({}),_=p(""),C=p(""),L=i=>{l.value.push({...i,id:new Date().getTime(),quantity:1})},q=i=>{const a=l.value.findIndex(t=>t.id===i);a!==-1&&l.value.splice(a,1)},x=D(()=>l.value.reduce((i,a)=>i+a.price*a.quantity,0)),y=i=>{l.value=l.value.map(a=>(a.id===i.id&&(a.quantity=parseInt(i.quantity),a.ice=i.ice,a.sugar=i.sugar),a))};console.log("orderList",g.value);const U=()=>{const i=l.value.map(a=>({...a,ice:a.ice,sugar:a.sugar}));g.value={id:new Date().getTime(),cart:i,description:_.value,sum:x.value},l.value=[],_.value=""};return(i,a)=>(n(),c("div",K,[e("div",P,[e("div",R,[e("ul",W,[(n(),c(d,null,u(m,t=>e("li",{key:t.id,class:"list-group-item list-group-item-action",onClick:w(s=>L(t),["prevent"])},[e("p",Y,[e("span",null,o(t.name),1),e("span",null," $"+o(t.price),1)]),e("span",null,[e("small",null,o(t.description),1)])],8,X)),64))])]),e("div",Z,[e("div",I,[e("div",{class:T(["cart h-100",{"cart-empty":l.value.length===0}])},[e("table",k,[ee,e("tbody",te,[(n(!0),c(d,null,u(l.value,t=>(n(),c("tr",{key:t.id},[e("td",null,[v(o(t.name)+" ",1),e("div",se,[e("small",null,o(t.description),1)])]),e("td",null,[h(e("select",{class:"form-select form-select-sm","onUpdate:modelValue":s=>t.ice=s,onChange:s=>y(t)},[(n(),c(d,null,u(r,s=>e("option",{key:s,value:s},o(s),9,le)),64))],40,oe),[[b,t.ice]])]),e("td",null,[h(e("select",{class:"form-select form-select-sm","onUpdate:modelValue":s=>t.sugar=s,onChange:s=>y(t)},[(n(),c(d,null,u($,s=>e("option",{key:s,value:s},o(s),9,ne)),64))],40,ae),[[b,t.sugar]])]),e("td",null,[h(e("select",{class:"form-select form-select-sm","onUpdate:modelValue":s=>t.quantity=s,onChange:s=>y(t)},[(n(),c(d,null,u(10,s=>e("option",{key:s,value:s},o(s),9,ie)),64))],40,ce),[[b,t.quantity]])]),e("td",null," $ "+o(t.price),1),e("td",null," $ "+o(t.price*t.quantity),1),e("td",null,[e("button",{type:"button",class:"btn btn-sm",onClick:s=>q(t.id)}," ❌ ",8,re)])]))),128))])])],2),C.value?(n(),c("div",de,o(C.value),1)):f("",!0),l.value.length!==0?(n(),c("div",ue,[e("div",_e,[v(" 訂單金額： $ "),e("span",pe,o(x.value),1)]),e("div",he,[e("div",ve,[h(e("textarea",{class:"form-control",placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"},"onUpdate:modelValue":a[0]||(a[0]=t=>_.value=t)},null,512),[[N,_.value]]),me])]),e("div",ge,[e("button",{type:"button",class:"w-50 btn btn-lg btn-secondary",onClick:w(U,["prevent"])},"送出訂單")])])):f("",!0),l.value.length===0?(n(),c("div",ye,be)):f("",!0)])])]),O(J,{"order-list":g.value},null,8,["order-list"])]))}};export{Ce as default};
